"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7055],{28482:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>a});var s=t(63913),i=t(74848),o=t(28453);const l={date:"2024-07-01 19:21",slug:"PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93"},r=void 0,p={authorsImageUrls:[]},a=[{value:"\u89e3\u91ca",id:"\u89e3\u91ca",level:3},{value:"\u4f7f\u7528\u8bf4\u660e",id:"\u4f7f\u7528\u8bf4\u660e",level:3}];function c(n){const e={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5355\u9875PHP\u535a\u5ba2\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u80fd\u591f\u5b9e\u73b0\u65b0\u589e\u548c\u5220\u9664\u6587\u7ae0\u7684\u529f\u80fd\uff0c\u5e76\u4f7f\u7528\u672c\u5730\u6587\u672c\u6587\u4ef6\u6765\u5b58\u50a8\u6587\u7ae0\u5185\u5bb9\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:'<?php\n// \u5b9a\u4e49\u5b58\u50a8\u6587\u4ef6\u8def\u5f84\n$storage_file = \'blog_posts.txt\';\n\n// \u8bfb\u53d6\u73b0\u6709\u6587\u7ae0\nfunction read_posts($file) {\n    if (!file_exists($file)) {\n        return [];\n    }\n    $content = file_get_contents($file);\n    return $content ? unserialize($content) : [];\n}\n\n// \u4fdd\u5b58\u6587\u7ae0\nfunction save_posts($file, $posts) {\n    file_put_contents($file, serialize($posts));\n}\n\n// \u65b0\u589e\u6587\u7ae0\nif ($_SERVER[\'REQUEST_METHOD\'] == \'POST\' && isset($_POST[\'new_post\'])) {\n    $title = htmlspecialchars($_POST[\'title\']);\n    $content = htmlspecialchars($_POST[\'content\']);\n    $posts = read_posts($storage_file);\n    $posts[] = [\'title\' => $title, \'content\' => $content];\n    save_posts($storage_file, $posts);\n    header("Location: " . $_SERVER[\'PHP_SELF\']);\n    exit;\n}\n\n// \u5220\u9664\u6587\u7ae0\nif ($_SERVER[\'REQUEST_METHOD\'] == \'POST\' && isset($_POST[\'delete_post\'])) {\n    $post_id = (int)$_POST[\'post_id\'];\n    $posts = read_posts($storage_file);\n    if (isset($posts[$post_id])) {\n        array_splice($posts, $post_id, 1);\n        save_posts($storage_file, $posts);\n    }\n    header("Location: " . $_SERVER[\'PHP_SELF\']);\n    exit;\n}\n\n// \u8bfb\u53d6\u6240\u6709\u6587\u7ae0\n$posts = read_posts($storage_file);\n?>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\u7b80\u5355\u535a\u5ba2</title>\n</head>\n<body>\n    <h1>\u7b80\u5355\u535a\u5ba2</h1>\n\n    <h2>\u65b0\u589e\u6587\u7ae0</h2>\n    <form method="post" action="">\n        <label for="title">\u6807\u9898:</label><br>\n        <input type="text" id="title" name="title" required><br><br>\n        <label for="content">\u5185\u5bb9:</label><br>\n        <textarea id="content" name="content" rows="5" cols="40" required></textarea><br><br>\n        <input type="submit" name="new_post" value="\u65b0\u589e\u6587\u7ae0">\n    </form>\n\n    <h2>\u6587\u7ae0\u5217\u8868</h2>\n    <?php if (!empty($posts)): ?>\n        <ul>\n            <?php foreach ($posts as $id => $post): ?>\n                <li>\n                    <h3><?php echo $post[\'title\']; ?></h3>\n                    <p><?php echo nl2br($post[\'content\']); ?></p>\n                    <form method="post" action="" style="display:inline;">\n                        <input type="hidden" name="post_id" value="<?php echo $id; ?>">\n                        <input type="submit" name="delete_post" value="\u5220\u9664">\n                    </form>\n                </li>\n            <?php endforeach; ?>\n        </ul>\n    <?php else: ?>\n        <p>\u6ca1\u6709\u6587\u7ae0\u3002</p>\n    <?php endif; ?>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u89e3\u91ca",children:"\u89e3\u91ca"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5b58\u50a8\u6587\u4ef6\u8def\u5f84"}),"\uff1a\u5b9a\u4e49\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u8def\u5f84\u6765\u5b58\u50a8\u535a\u5ba2\u6587\u7ae0\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u8bfb\u53d6\u6587\u7ae0"}),"\uff1a\u4ece\u6587\u672c\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5e76\u53cd\u5e8f\u5217\u5316\u6587\u7ae0\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4fdd\u5b58\u6587\u7ae0"}),"\uff1a\u5c06\u6587\u7ae0\u6570\u636e\u5e8f\u5217\u5316\u5e76\u5199\u5165\u6587\u672c\u6587\u4ef6\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u65b0\u589e\u6587\u7ae0"}),"\uff1a\u5904\u7406\u8868\u5355\u63d0\u4ea4\uff0c\u65b0\u589e\u6587\u7ae0\uff0c\u5e76\u4fdd\u5b58\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5220\u9664\u6587\u7ae0"}),"\uff1a\u5904\u7406\u8868\u5355\u63d0\u4ea4\uff0c\u5220\u9664\u6307\u5b9a\u6587\u7ae0\uff0c\u5e76\u4fdd\u5b58\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u663e\u793a\u6587\u7ae0\u5217\u8868"}),"\uff1a\u663e\u793a\u6240\u6709\u5df2\u5b58\u50a8\u7684\u6587\u7ae0\uff0c\u5e76\u63d0\u4f9b\u5220\u9664\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4f7f\u7528\u8bf4\u660e",children:"\u4f7f\u7528\u8bf4\u660e"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5c06\u4e0a\u8ff0\u4ee3\u7801\u4fdd\u5b58\u4e3a\u4e00\u4e2aPHP\u6587\u4ef6\uff0c\u4f8b\u5982",(0,i.jsx)(e.code,{children:"blog.php"}),"\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:["\u786e\u4fdd\u540c\u76ee\u5f55\u4e0b\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a",(0,i.jsx)(e.code,{children:"blog_posts.txt"}),"\u7684\u6587\u4ef6\uff0c\u5e76\u4e14\u6709\u5199\u5165\u6743\u9650\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:["\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee",(0,i.jsx)(e.code,{children:"blog.php"}),"\uff0c\u5373\u53ef\u4f7f\u7528\u535a\u5ba2\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u7b80\u5355\u7684\u535a\u5ba2\u7a0b\u5e8f\u80fd\u591f\u589e\u5220\u6587\u7ae0\uff0c\u5e76\u4f7f\u7528\u6587\u672c\u6587\u4ef6\u4f5c\u4e3a\u5b58\u50a8\u3002\u53ef\u4ee5\u4f5c\u4e3a\u5b66\u4e60PHP\u6587\u4ef6\u64cd\u4f5c\u548c\u57fa\u672c\u8868\u5355\u5904\u7406\u7684\u793a\u4f8b\u3002"})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function l(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),s.createElement(o.Provider,{value:e},n.children)}},63913:n=>{n.exports=JSON.parse('{"permalink":"/blog/PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93","editUrl":"https://github.com/frankelinli/frankelinli.github.io/edit/main/blog/2024/07-01-PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93.md","source":"@site/blog/2024/07-01-PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93.md","title":"PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93","description":"\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5355\u9875PHP\u535a\u5ba2\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u80fd\u591f\u5b9e\u73b0\u65b0\u589e\u548c\u5220\u9664\u6587\u7ae0\u7684\u529f\u80fd\uff0c\u5e76\u4f7f\u7528\u672c\u5730\u6587\u672c\u6587\u4ef6\u6765\u5b58\u50a8\u6587\u7ae0\u5185\u5bb9\u3002","date":"2024-07-01T19:21:00.000Z","tags":[],"readingTime":2.19,"hasTruncateMarker":true,"authors":[],"frontMatter":{"date":"2024-07-01 19:21","slug":"PHP\u6781\u7b80\u535a\u5ba2\uff0c\u7528TXT\u6587\u4ef6\u4f5c\u4e3a\u6570\u636e\u5e93"},"unlisted":false,"lastUpdatedAt":1720238665000,"prevItem":{"title":"\u4e0d\u7b26\u5408\u9879\u6574\u6539\u8bb0\u5f55\u8868","permalink":"/blog/\u4e0d\u7b26\u5408\u9879\u6574\u6539\u8bb0\u5f55\u8868\u81ea\u52a8\u751f\u6210\u6587\u6863"},"nextItem":{"title":"python\u5ba2\u6237\u7aef\u811a\u672c\u8fde\u63a5\u670d\u52a1\u5668PHP\u6765\u9a8c\u8bc1\u6388\u6743","permalink":"/blog/python\u5ba2\u6237\u7aef\u811a\u672c\u8fde\u63a5\u670d\u52a1\u5668PHP\u6765\u9a8c\u8bc1\u6388\u6743"}}')}}]);