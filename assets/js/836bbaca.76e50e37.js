"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5495],{98401:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>x,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var r=n(49881),a=n(74848),s=n(28453);const o={date:"2024-06-27 21:43",slug:"\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8"},i=void 0,l={authorsImageUrls:[]},c=[{value:"\u8bf4\u660e\uff1a",id:"\u8bf4\u660e",level:3}];function d(e){const t={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["\u8981\u5b9e\u73b0\u4f60\u63cf\u8ff0\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6cb9\u7334\u811a\u672c\uff08Tampermonkey script\uff09\u6765\u52a8\u6001\u8c03\u6574\u6240\u6709 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u5143\u7d20\u7684\u884c\u9ad8\uff0c\u5e76\u4e14\u4f7f\u5176\u5728\u68c0\u6d4b\u5230\u9875\u9762\u53d8\u5316\u65f6\u91cd\u65b0\u8fd0\u884c\u8c03\u6574\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4f9d\u8d56\u4fdd\u5b58\u6309\u94ae\u3002\u4ee5\u4e0b\u662f\u66f4\u65b0\u540e\u7684\u811a\u672c\uff1a"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"// ==UserScript==\n// @name         Auto Resize Textarea\n// @namespace    http://tampermonkey.net/\n// @version      1.1\n// @description  Auto resize textarea based on content\n// @author       Your Name\n// @match        https://platform.amfori.org/ui/*\n// @grant        none\n// ==/UserScript==\n\n(function() {\n    'use strict';\n\n    // Function to auto-resize textareas\n    function autoResizeTextarea(textarea) {\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n    }\n\n    // Apply auto-resize to all textareas on the page\n    function applyAutoResize() {\n        const textareas = document.querySelectorAll('textarea');\n        textareas.forEach(textarea => {\n            textarea.addEventListener('input', () => autoResizeTextarea(textarea));\n            autoResizeTextarea(textarea);\n        });\n    }\n\n    // Observe the whole document for changes (in case new textareas are added dynamically)\n    const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n            if (mutation.addedNodes.length || mutation.removedNodes.length) {\n                applyAutoResize();\n            }\n        });\n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n\n    // Initial call to apply auto-resize on page load\n    applyAutoResize();\n})();\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u8bf4\u660e",children:"\u8bf4\u660e\uff1a"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"\u81ea\u52a8\u8c03\u6574\u884c\u9ad8"}),"\uff1a"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"autoResizeTextarea"})," \u51fd\u6570\u8c03\u6574 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u7684\u9ad8\u5ea6\u4ee5\u9002\u5e94\u5176\u5185\u5bb9\u3002"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"applyAutoResize"})," \u51fd\u6570\u4e3a\u9875\u9762\u4e0a\u7684\u6240\u6709 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u5143\u7d20\u7ed1\u5b9a ",(0,a.jsx)(t.code,{children:"input"})," \u4e8b\u4ef6\uff0c\u4ee5\u4fbf\u5728\u5185\u5bb9\u66f4\u6539\u65f6\u8c03\u6574\u9ad8\u5ea6\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"\u9875\u9762\u52a0\u8f7d\u65f6\u5e94\u7528"}),"\uff1a"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\u811a\u672c\u5728\u9875\u9762\u52a0\u8f7d\u65f6\u7acb\u5373\u8c03\u7528 ",(0,a.jsx)(t.code,{children:"applyAutoResize"})," \u4ee5\u8c03\u6574\u5f53\u524d\u9875\u9762\u4e0a\u7684\u6240\u6709 ",(0,a.jsx)(t.code,{children:"<textarea>"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"\u89c2\u5bdf DOM \u53d8\u5316"}),"\uff1a"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\u4f7f\u7528 ",(0,a.jsx)(t.code,{children:"MutationObserver"})," \u89c2\u5bdf\u6574\u4e2a\u6587\u6863\u7684\u53d8\u5316\uff08\u4f8b\u5982\uff0c\u52a8\u6001\u6dfb\u52a0\u6216\u79fb\u9664 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u5143\u7d20\uff09\u3002"]}),"\n",(0,a.jsxs)(t.li,{children:["\u5f53\u68c0\u6d4b\u5230 DOM \u53d8\u5316\uff08\u5b50\u5143\u7d20\u6dfb\u52a0\u6216\u79fb\u9664\uff09\u65f6\uff0c\u8c03\u7528 ",(0,a.jsx)(t.code,{children:"applyAutoResize"})," \u91cd\u65b0\u8c03\u6574\u6240\u6709 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u7684\u9ad8\u5ea6\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["\u8fd9\u6837\uff0c\u811a\u672c\u4f1a\u5728\u9875\u9762\u4efb\u4f55\u53d8\u5316\u65f6\u91cd\u65b0\u8fd0\u884c\u8c03\u6574\u4ee3\u7801\uff0c\u786e\u4fdd\u6240\u6709 ",(0,a.jsx)(t.code,{children:"<textarea>"})," \u5143\u7d20\u80fd\u6839\u636e\u5185\u5bb9\u81ea\u9002\u5e94\u884c\u9ad8\u3002"]})]})}function x(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var r=n(96540);const a={},s=r.createContext(a);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:t},e.children)}},49881:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8","editUrl":"https://github.com/frankelinli/frankelinli.github.io/edit/main/blog/2024/06-27-\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8.md","source":"@site/blog/2024/06-27-\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8.md","title":"\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8","description":"\u8981\u5b9e\u73b0\u4f60\u63cf\u8ff0\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6cb9\u7334\u811a\u672c\uff08Tampermonkey script\uff09\u6765\u52a8\u6001\u8c03\u6574\u6240\u6709 `` \u5143\u7d20\u7684\u884c\u9ad8\uff0c\u5e76\u4e14\u4f7f\u5176\u5728\u68c0\u6d4b\u5230\u9875\u9762\u53d8\u5316\u65f6\u91cd\u65b0\u8fd0\u884c\u8c03\u6574\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4f9d\u8d56\u4fdd\u5b58\u6309\u94ae\u3002\u4ee5\u4e0b\u662f\u66f4\u65b0\u540e\u7684\u811a\u672c\uff1a","date":"2024-06-27T21:43:00.000Z","tags":[],"readingTime":1.97,"hasTruncateMarker":true,"authors":[],"frontMatter":{"date":"2024-06-27 21:43","slug":"\u6cb9\u7334\u811a\u672c\u81ea\u52a8\u8c03\u6574\u6240\u6709textarea\u884c\u9ad8"},"unlisted":false,"lastUpdatedAt":1719680667000,"prevItem":{"title":"\u6cb9\u7334\u811a\u672c\u8ba9\u4efb\u610f\u7f51\u9875\u7684\u56fe\u7247\u7acb\u4f53\u5f39\u51fa","permalink":"/docs/blog/\u6cb9\u7334\u811a\u672c\u8ba9\u4efb\u610f\u7f51\u9875\u7684\u56fe\u7247\u7acb\u4f53\u5f39\u51fa"},"nextItem":{"title":"\u6cb9\u7334\u811a\u672c\u7ed9\u6240\u6709\u7f51\u9875\u52a0\u4e00\u4e2a\u201c\u56de\u5230\u9876\u90e8\u201d\u6309\u94ae","permalink":"/docs/blog/\u6cb9\u7334\u811a\u672c\u7ed9\u6240\u6709\u7f51\u9875\u52a0\u4e00\u4e2a\u201c\u56de\u5230\u9876\u90e8\u201d\u6309\u94ae"}}')}}]);