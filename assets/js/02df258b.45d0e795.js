"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4338],{66376:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>t,toc:()=>i});var t=n(73004),o=n(74848),r=n(28453);const d={date:"2024-06-23 13:44",slug:"WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868"},c=void 0,l={authorsImageUrls:[]},i=[{value:"\u65b9\u6cd5 1: \u4f7f\u7528\u77ed\u4ee3\u7801\u5217\u51fa <code>docs</code> \u7c7b\u578b\u7684\u5e16\u5b50",id:"\u65b9\u6cd5-1-\u4f7f\u7528\u77ed\u4ee3\u7801\u5217\u51fa-docs-\u7c7b\u578b\u7684\u5e16\u5b50",level:3},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b",level:4},{value:"\u4f7f\u7528\u77ed\u4ee3\u7801",id:"\u4f7f\u7528\u77ed\u4ee3\u7801",level:4},{value:"\u65b9\u6cd5 2: \u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\u5217\u51fa <code>docs</code> \u7c7b\u578b\u7684\u5e16\u5b50",id:"\u65b9\u6cd5-2-\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\u5217\u51fa-docs-\u7c7b\u578b\u7684\u5e16\u5b50",level:3},{value:"\u4ee3\u7801\u793a\u4f8b",id:"\u4ee3\u7801\u793a\u4f8b-1",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3}];function a(e){const s={code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.p,{children:["\u8981\u5217\u51fa\u6240\u6709\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b ",(0,o.jsx)(s.code,{children:"docs"})," \u7684\u5e16\u5b50\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u77ed\u4ee3\u7801\uff08shortcode\uff09\u6216\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u6765\u663e\u793a\u8fd9\u4e9b\u5e16\u5b50\u3002\u4ee5\u4e0b\u662f\u4e24\u4e2a\u65b9\u6cd5\u7684\u8be6\u7ec6\u6b65\u9aa4\uff1a"]}),"\n",(0,o.jsxs)(s.h3,{id:"\u65b9\u6cd5-1-\u4f7f\u7528\u77ed\u4ee3\u7801\u5217\u51fa-docs-\u7c7b\u578b\u7684\u5e16\u5b50",children:["\u65b9\u6cd5 1: \u4f7f\u7528\u77ed\u4ee3\u7801\u5217\u51fa ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50"]}),"\n",(0,o.jsxs)(s.p,{children:["\u77ed\u4ee3\u7801\u662f\u4e00\u4e2a\u975e\u5e38\u7075\u6d3b\u548c\u65b9\u4fbf\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5728\u4efb\u4f55\u9875\u9762\u6216\u5e16\u5b50\u4e2d\u663e\u793a ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50\u3002\u4f60\u53ef\u4ee5\u5c06\u4ee5\u4e0b\u4ee3\u7801\u6dfb\u52a0\u5230\u4f60\u7684\u4e3b\u9898\u7684 ",(0,o.jsx)(s.code,{children:"functions.php"})," \u6587\u4ef6\u4e2d\uff1a"]}),"\n",(0,o.jsx)(s.h4,{id:"\u4ee3\u7801\u793a\u4f8b",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-php",children:"// \u521b\u5efa\u4e00\u4e2a\u77ed\u4ee3\u7801\u6765\u5217\u51fa\u6240\u6709 'docs' \u7c7b\u578b\u7684\u5e16\u5b50\nfunction list_docs_posts_shortcode($atts) {\n    // \u8bbe\u7f6e\u9ed8\u8ba4\u53c2\u6570\n    $atts = shortcode_atts(array(\n        'posts_per_page' => -1, // \u663e\u793a\u6240\u6709\u5e16\u5b50\n    ), $atts, 'list_docs_posts');\n\n    // \u67e5\u8be2 'docs' \u7c7b\u578b\u7684\u5e16\u5b50\n    $args = array(\n        'post_type' => 'docs',\n        'post_status' => 'publish', // \u53ea\u663e\u793a\u53d1\u5e03\u7684\u5e16\u5b50\n        'posts_per_page' => $atts['posts_per_page'],\n    );\n\n    $query = new WP_Query($args);\n\n    // \u68c0\u67e5\u662f\u5426\u6709\u5e16\u5b50\n    if ($query->have_posts()) {\n        $output = '<ul>';\n\n        // \u5faa\u73af\u663e\u793a\u6bcf\u4e2a\u5e16\u5b50\n        while ($query->have_posts()) {\n            $query->the_post();\n            $output .= '<li><a href=\"' . get_permalink() . '\">' . get_the_title() . '</a></li>';\n        }\n\n        $output .= '</ul>';\n\n        // \u91cd\u7f6e\u67e5\u8be2\n        wp_reset_postdata();\n    } else {\n        $output = '<p>\u6ca1\u6709\u627e\u5230\u4efb\u4f55 docs \u5e16\u5b50\u3002</p>';\n    }\n\n    return $output;\n}\nadd_shortcode('list_docs_posts', 'list_docs_posts_shortcode');\n"})}),"\n",(0,o.jsx)(s.h4,{id:"\u4f7f\u7528\u77ed\u4ee3\u7801",children:"\u4f7f\u7528\u77ed\u4ee3\u7801"}),"\n",(0,o.jsxs)(s.p,{children:["\u5c06\u4e0a\u8ff0\u4ee3\u7801\u6dfb\u52a0\u5230 ",(0,o.jsx)(s.code,{children:"functions.php"})," \u6587\u4ef6\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u9875\u9762\u6216\u5e16\u5b50\u4e2d\u4f7f\u7528\u4ee5\u4e0b\u77ed\u4ee3\u7801\u6765\u5217\u51fa\u6240\u6709 ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50\uff1a"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:"[list_docs_posts]\n"})}),"\n",(0,o.jsx)(s.p,{children:"\u4f60\u4e5f\u53ef\u4ee5\u5728\u77ed\u4ee3\u7801\u4e2d\u6dfb\u52a0\u53c2\u6570\u6765\u9650\u5236\u663e\u793a\u7684\u5e16\u5b50\u6570\u91cf\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-html",children:'[list_docs_posts posts_per_page="10"]\n'})}),"\n",(0,o.jsxs)(s.h3,{id:"\u65b9\u6cd5-2-\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\u5217\u51fa-docs-\u7c7b\u578b\u7684\u5e16\u5b50",children:["\u65b9\u6cd5 2: \u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f\u5217\u51fa ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50"]}),"\n",(0,o.jsxs)(s.p,{children:["\u5982\u679c\u4f60\u5e0c\u671b\u521b\u5efa\u4e00\u4e2a\u4e13\u95e8\u7684\u9875\u9762\u6a21\u677f\u6765\u663e\u793a ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50\uff0c\u53ef\u4ee5\u5728\u4f60\u7684\u4e3b\u9898\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\u6587\u4ef6\u3002"]}),"\n",(0,o.jsx)(s.h4,{id:"\u4ee3\u7801\u793a\u4f8b-1",children:"\u4ee3\u7801\u793a\u4f8b"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"\u521b\u5efa\u6a21\u677f\u6587\u4ef6"}),"\uff1a\u5728\u4f60\u7684\u4e3b\u9898\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a ",(0,o.jsx)(s.code,{children:"template-list-docs.php"})," \u7684\u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\uff1a"]}),"\n"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-php",children:"<?php\n/**\n * Template Name: List Docs Posts\n */\n\nget_header();\n?>\n\n<div id=\"primary\" class=\"content-area\">\n    <main id=\"main\" class=\"site-main\">\n        <?php\n        // \u67e5\u8be2 'docs' \u7c7b\u578b\u7684\u5e16\u5b50\n        $args = array(\n            'post_type' => 'docs',\n            'post_status' => 'publish', // \u53ea\u663e\u793a\u53d1\u5e03\u7684\u5e16\u5b50\n            'posts_per_page' => -1, // \u663e\u793a\u6240\u6709\u5e16\u5b50\n        );\n\n        $query = new WP_Query($args);\n\n        // \u68c0\u67e5\u662f\u5426\u6709\u5e16\u5b50\n        if ($query->have_posts()) {\n            echo '<ul>';\n\n            // \u5faa\u73af\u663e\u793a\u6bcf\u4e2a\u5e16\u5b50\n            while ($query->have_posts()) {\n                $query->the_post();\n                echo '<li><a href=\"' . get_permalink() . '\">' . get_the_title() . '</a></li>';\n            }\n\n            echo '</ul>';\n\n            // \u91cd\u7f6e\u67e5\u8be2\n            wp_reset_postdata();\n        } else {\n            echo '<p>\u6ca1\u6709\u627e\u5230\u4efb\u4f55 docs \u5e16\u5b50\u3002</p>';\n        }\n        ?>\n    </main>\x3c!-- #main --\x3e\n</div>\x3c!-- #primary --\x3e\n\n<?php\nget_footer();\n?>\n"})}),"\n",(0,o.jsxs)(s.ol,{start:"2",children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"\u521b\u5efa\u9875\u9762\u5e76\u9009\u62e9\u6a21\u677f"}),"\uff1a"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"\u767b\u5f55\u5230\u4f60\u7684 WordPress \u540e\u53f0\u3002"}),"\n",(0,o.jsx)(s.li,{children:'\u5bfc\u822a\u5230 "\u9875\u9762" -> "\u65b0\u5efa\u9875\u9762"\u3002'}),"\n",(0,o.jsx)(s.li,{children:'\u8bbe\u7f6e\u9875\u9762\u6807\u9898\uff0c\u4f8b\u5982 "List Docs Posts"\u3002'}),"\n",(0,o.jsx)(s.li,{children:'\u5728\u53f3\u4fa7\u7684 "\u9875\u9762\u5c5e\u6027" \u4e2d\uff0c\u9009\u62e9 "List Docs Posts" \u6a21\u677f\u3002'}),"\n",(0,o.jsx)(s.li,{children:"\u53d1\u5e03\u9875\u9762\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,o.jsxs)(s.p,{children:["\u901a\u8fc7\u4e0a\u8ff0\u4e24\u79cd\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u8f7b\u677e\u5217\u51fa\u6240\u6709 ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50\uff1a"]}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"\u4f7f\u7528\u77ed\u4ee3\u7801\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u5e16\u5b50\u5217\u8868\u63d2\u5165\u5230\u4efb\u4f55\u9875\u9762\u6216\u5e16\u5b50\u4e2d\uff0c\u7075\u6d3b\u6027\u8f83\u9ad8\u3002"}),"\n",(0,o.jsxs)(s.li,{children:["\u4f7f\u7528\u81ea\u5b9a\u4e49\u6a21\u677f\u65b9\u6cd5\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u4e13\u95e8\u7684\u9875\u9762\u6765\u663e\u793a ",(0,o.jsx)(s.code,{children:"docs"})," \u7c7b\u578b\u7684\u5e16\u5b50\uff0c\u9002\u5408\u9700\u8981\u4e13\u95e8\u5c55\u793a\u7684\u573a\u666f\u3002"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"\u9009\u62e9\u9002\u5408\u4f60\u9700\u6c42\u7684\u65b9\u6cd5\uff0c\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002"})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>c});var t=n(96540);const o={},r=t.createContext(o);function d(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),t.createElement(r.Provider,{value:s},e.children)}},73004:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868","editUrl":"https://github.com/frankelinli/frankelinli.github.io/edit/main/blog/2024/06-23-WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868.md","source":"@site/blog/2024/06-23-WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868.md","title":"WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868","description":"\u8981\u5217\u51fa\u6240\u6709\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b docs \u7684\u5e16\u5b50\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u77ed\u4ee3\u7801\uff08shortcode\uff09\u6216\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u6765\u663e\u793a\u8fd9\u4e9b\u5e16\u5b50\u3002\u4ee5\u4e0b\u662f\u4e24\u4e2a\u65b9\u6cd5\u7684\u8be6\u7ec6\u6b65\u9aa4\uff1a","date":"2024-06-23T13:44:00.000Z","tags":[],"readingTime":3.875,"hasTruncateMarker":true,"authors":[],"frontMatter":{"date":"2024-06-23 13:44","slug":"WordPress\u6279\u91cf\u8f93\u51fa\u81ea\u5b9a\u4e49\u5e16\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6587\u7ae0\u5217\u8868"},"unlisted":false,"lastUpdatedAt":1719200854000,"prevItem":{"title":"WordPress\u7ad9\u70b9\u5982\u4f55\u653e\u7f6eGoogle\u5e7f\u544a\u4ee3\u7801","permalink":"/docs/blog/WordPress\u7ad9\u70b9\u5982\u4f55\u653e\u7f6eGoogle\u5e7f\u544a\u4ee3\u7801"},"nextItem":{"title":"\u7eaf\u624b\u5de5\u4ee3\u7801\u521b\u5efaWordPress\u7684Contact-About-Proudct-Login\u7b49\u9875\u9762","permalink":"/docs/blog/\u7eaf\u624b\u5de5\u4ee3\u7801\u521b\u5efaWordPress\u7684Contact-About-Product-Login\u7b49\u9875\u9762"}}')}}]);