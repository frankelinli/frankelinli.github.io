<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Frankelin Docs &amp; Blog Blog</title>
        <link>https://frankelinli.github.io/blog</link>
        <description>Frankelin Docs &amp; Blog Blog</description>
        <lastBuildDate>Sun, 16 Jun 2024 23:05:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh</language>
        <item>
            <title><![CDATA[整站变黑白]]></title>
            <link>https://frankelinli.github.io/blog/整站变黑白</link>
            <guid>https://frankelinli.github.io/blog/整站变黑白</guid>
            <pubDate>Sun, 16 Jun 2024 23:05:00 GMT</pubDate>
            <description><![CDATA[要实现整个 WordPress 网站变成黑白效果，可以通过添加自定义的 CSS 样式来实现。使用 CSS 的 filter 属性可以很容易地将页面的所有颜色转换为黑白。具体步骤如下：]]></description>
            <content:encoded><![CDATA[<p>要实现整个 WordPress 网站变成黑白效果，可以通过添加自定义的 CSS 样式来实现。使用 CSS 的 <code>filter</code> 属性可以很容易地将页面的所有颜色转换为黑白。具体步骤如下：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-添加自定义-css">1. 添加自定义 CSS<a class="hash-link" aria-label="1. 添加自定义 CSS的直接链接" title="1. 添加自定义 CSS的直接链接" href="https://frankelinli.github.io/blog/%E6%95%B4%E7%AB%99%E5%8F%98%E9%BB%91%E7%99%BD#1-%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89-css">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="方法一通过主题的自定义-css">方法一：通过主题的自定义 CSS<a class="hash-link" aria-label="方法一：通过主题的自定义 CSS的直接链接" title="方法一：通过主题的自定义 CSS的直接链接" href="https://frankelinli.github.io/blog/%E6%95%B4%E7%AB%99%E5%8F%98%E9%BB%91%E7%99%BD#%E6%96%B9%E6%B3%95%E4%B8%80%E9%80%9A%E8%BF%87%E4%B8%BB%E9%A2%98%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89-css">​</a></h4>
<p>你可以直接在 WordPress 管理后台的 <strong>外观 &gt; 自定义 &gt; 额外 CSS</strong> 中添加以下 CSS 代码：</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">html</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grayscale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="方法二通过子主题的-css-文件">方法二：通过子主题的 CSS 文件<a class="hash-link" aria-label="方法二：通过子主题的 CSS 文件的直接链接" title="方法二：通过��子主题的 CSS 文件的直接链接" href="https://frankelinli.github.io/blog/%E6%95%B4%E7%AB%99%E5%8F%98%E9%BB%91%E7%99%BD#%E6%96%B9%E6%B3%95%E4%BA%8C%E9%80%9A%E8%BF%87%E5%AD%90%E4%B8%BB%E9%A2%98%E7%9A%84-css-%E6%96%87%E4%BB%B6">​</a></h4>
<p>如果你使用子主题并希望将这个效果添加到子主题中，请按照以下步骤操作：</p>
<ol>
<li>打开你的子主题目录。</li>
<li>找到 <code>style.css</code> 文件并打开它。如果没有这个文件，可以创建一个。</li>
<li>在 <code>style.css</code> 文件中添加以下代码：</li>
</ol>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">html</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grayscale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token unit">%</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-确保-css-加载">2. 确保 CSS 加载<a class="hash-link" aria-label="2. 确保 CSS 加载的直接链接" title="2. 确保 CSS 加载的直接链接" href="https://frankelinli.github.io/blog/%E6%95%B4%E7%AB%99%E5%8F%98%E9%BB%91%E7%99%BD#2-%E7%A1%AE%E4%BF%9D-css-%E5%8A%A0%E8%BD%BD">​</a></h3>
<p>如果你选择通过子主题的 <code>style.css</code> 文件添加 CSS，需要确保这个文件被正确加载。请检查你的 <code>functions.php</code> 文件，确保它包含类似以下的代码：</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function child_theme_enqueue_styles() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Enqueue parent theme style</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wp_enqueue_style('parent-style', get_template_directory_uri() . '/style.css');</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Enqueue child theme style</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wp_enqueue_style('child-style', get_stylesheet_uri(), array('parent-style'));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add_action('wp_enqueue_scripts', 'child_theme_enqueue_styles');</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-测试效果">3. 测试效果<a class="hash-link" aria-label="3. 测试效果的直接链接" title="3. 测试效果的直接链接" href="https://frankelinli.github.io/blog/%E6%95%B4%E7%AB%99%E5%8F%98%E9%BB%91%E7%99%BD#3-%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C">​</a></h3>
<p>保存文件并刷新你的网站。整个网站应该会变成黑白效果。如果没有看到效果，请尝试清理浏览器缓存并再次刷新页面。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[WordPress给鼠标点击添加颜色效果]]></title>
            <link>https://frankelinli.github.io/blog/WordPress给鼠标点击添加颜色效果</link>
            <guid>https://frankelinli.github.io/blog/WordPress给鼠标点击添加颜色效果</guid>
            <pubDate>Sun, 16 Jun 2024 22:45:00 GMT</pubDate>
            <description><![CDATA[WordPress子主题实现：鼠标在空白处摁下左键，会弹出五彩斑斓的颜色]]></description>
            <content:encoded><![CDATA[<p>WordPress子主题实现：鼠标在空白处摁下左键，会弹出五彩斑斓的颜色</p>
<p>要在WordPress子主题中实现这样的效果，你需要使用JavaScript来捕获鼠标左键按下事件，并在空白处生成五彩斑斓的颜色。以下是实现此功能的基本步骤：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="在子主题中添加javascript">在子主题中添加JavaScript<a class="hash-link" aria-label="在子主题中添加JavaScript的直接链接" title="在子主题中添加JavaScript的直接链接" href="https://frankelinli.github.io/blog/WordPress%E7%BB%99%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%B7%BB%E5%8A%A0%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C#%E5%9C%A8%E5%AD%90%E4%B8%BB%E9%A2%98%E4%B8%AD%E6%B7%BB%E5%8A%A0javascript">​</a></h3>
<ol>
<li>
<p><strong>创建JavaScript文件</strong>： 在你的WordPress子主题目录下创建一个新的JavaScript文件，比如 <code>custom.js</code>。</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// custom.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jQuery(document).ready(function($) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $(document).mousedown(function(event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Check if left mouse button is pressed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event.which === 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Generate random RGB color</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var color = getRandomColor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Create a div with the color at mouse position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            createColorSpot(event.pageX, event.pageY, color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getRandomColor() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var r = Math.floor(Math.random() * 256);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var g = Math.floor(Math.random() * 256);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var b = Math.floor(Math.random() * 256);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 'rgb(' + r + ',' + g + ',' + b + ')';</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function createColorSpot(x, y, color) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create a colored div at the specified position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var $spot = $('&lt;div&gt;&lt;/div&gt;').css({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'position': 'absolute',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'left': x + 'px',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'top': y + 'px',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'width': '20px',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'height': '20px',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'background-color': color,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            'border-radius': '50%'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Append the div to the body</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $('body').append($spot);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Fade out and remove the div after a certain time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $spot.fadeOut(1500, function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $(this).remove();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>将JavaScript文件添加到WordPress主题中</strong>： 打开你的子主题的 <code>functions.php</code> 文件，在其中添加以下代码将 <code>custom.js</code> 文件包含进来。</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function add_custom_scripts() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wp_enqueue_script('custom-script', get_stylesheet_directory_uri() . '/custom.js', array('jquery'), '1.0', true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add_action('wp_enqueue_scripts', 'add_custom_scripts');</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解释与功能说明">解释与功能说明<a class="hash-link" aria-label="解释与功能说明的直接链接" title="解释与功能说明的直接链接" href="https://frankelinli.github.io/blog/WordPress%E7%BB%99%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%B7%BB%E5%8A%A0%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C#%E8%A7%A3%E9%87%8A%E4%B8%8E%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E">​</a></h3>
<ul>
<li><strong>jQuery Document Ready</strong>：确保文档加载完成后再执行JavaScript代码。</li>
<li><strong>mousedown事件监听</strong>：捕获鼠标左键按下事件。</li>
<li><strong>event.pageX和event.pageY</strong>：获取鼠标点击位置的页面坐标。</li>
<li><strong>getRandomColor函数</strong>：生成随机的RGB颜色值。</li>
<li><strong>createColorSpot函数</strong>：创建一个带有随机颜色的div，并将其放置在鼠标点击的位置上。</li>
<li><strong>fadeOut和remove</strong>：设置颜色块淡出并在淡出完成后从DOM中移除，以避免页面过度加载。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="注意事项">注意事项<a class="hash-link" aria-label="注意事项的直接链接" title="注意事项的直接链接" href="https://frankelinli.github.io/blog/WordPress%E7%BB%99%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%B7%BB%E5%8A%A0%E9%A2%9C%E8%89%B2%E6%95%88%E6%9E%9C#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">​</a></h3>
<ul>
<li>这段代码假设你的子主题中已经包含了jQuery库。大多数WordPress主题都会自带jQuery，但如果没有，你需要将其手动添加到你的主题中。</li>
<li>这种效果会在用户点击页面空白处时产生颜色斑点，但它们会渐渐消失，而不会永久留在页面上。</li>
</ul>
<p>通过这些步骤，你就可以在WordPress子主题中实现在空白处按下鼠标左键时产生五彩斑斓颜色的效果了。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[wordpress全站禁止鼠标复制文字和鼠标右键]]></title>
            <link>https://frankelinli.github.io/blog/wordpress全站禁止鼠标复制文字和鼠标右键</link>
            <guid>https://frankelinli.github.io/blog/wordpress全站禁止鼠标复制文字和鼠标右键</guid>
            <pubDate>Sun, 16 Jun 2024 16:20:00 GMT</pubDate>
            <description><![CDATA[在WordPress网站上禁止鼠标左键和右键点击，可以通过添加自定义的JavaScript代码来实现。这些代码可以放在主题的functions.php文件中，或者通过安装插件来添加自定义代码。以下是两种实现方法：]]></description>
            <content:encoded><![CDATA[<p>在WordPress网站上禁止鼠标左键和右键点击，可以通过添加自定义的JavaScript代码来实现。这些代码可以放在主题的<code>functions.php</code>文件中，或者通过安装插件来添加自定义代码。以下是两种实现方法：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="方法一在functionsphp文件中添加代码">方法一：在<code>functions.php</code>文件中添加代码<a class="hash-link" aria-label="方法一在functionsphp文件中添加代码的直接链接" title="方法一在functionsphp文件中添加代码的直接链接" href="https://frankelinli.github.io/blog/wordpress%E5%85%A8%E7%AB%99%E7%A6%81%E6%AD%A2%E9%BC%A0%E6%A0%87%E5%A4%8D%E5%88%B6%E6%96%87%E5%AD%97%E5%92%8C%E9%BC%A0%E6%A0%87%E5%8F%B3%E9%94%AE#%E6%96%B9%E6%B3%95%E4%B8%80%E5%9C%A8functionsphp%E6%96%87%E4%BB%B6%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81">​</a></h3>
<ol>
<li>进入WordPress后台，导航到外观 &gt; 主题文件编辑器。</li>
<li>在右侧选择<code>functions.php</code>文件。</li>
<li>在文件的末尾添加以下代码：</li>
</ol>
<div class="language-php+HTML language-php+html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php+html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">function disable_mouse_clicks() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script type="text/javascript"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 禁止鼠标右键点击</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.addEventListener('contextmenu', function(e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e.preventDefault();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 禁止鼠标左键点击选择文本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.addEventListener('mousedown', function(e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (e.button == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                e.preventDefault();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 禁止键盘快捷键 (如Ctrl+C)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.addEventListener('keydown', function(e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (e.ctrlKey &amp;&amp; (e.key === 'c' || e.key === 'u' || e.key === 's' || e.key === 'a')) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                e.preventDefault();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add_action('wp_footer', 'disable_mouse_clicks');</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我是通过修改子主题的function来实现的。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[wordpress修改代码，在文章底部增加打赏按钮]]></title>
            <link>https://frankelinli.github.io/blog/wordpress修改代码，在文章底部增加打赏按钮</link>
            <guid>https://frankelinli.github.io/blog/wordpress修改代码，在文章底部增加打赏按钮</guid>
            <pubDate>Sat, 15 Jun 2024 21:09:00 GMT</pubDate>
            <description><![CDATA[通过修改WordPress主题的single.php文件来实现文章底部添加“打赏”功能，并弹出微信和支付宝二维码的模态框，可以按照以下步骤操作：]]></description>
            <content:encoded><![CDATA[<p>通过修改WordPress主题的<code>single.php</code>文件来实现文章底部添加“打赏”功能，并弹出微信和支付宝二维码的模态框，可以按照以下步骤操作：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-编辑astra主题的-content-singlephp-文件">1. 编辑astra主题的 <code>content-single.php</code> 文件<a class="hash-link" aria-label="1-编辑astra主题的-content-singlephp-文件的直接链接" title="1-编辑astra主题的-content-singlephp-文件的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#1-%E7%BC%96%E8%BE%91astra%E4%B8%BB%E9%A2%98%E7%9A%84-content-singlephp-%E6%96%87%E4%BB%B6">​</a></h3>
<p>打开你的WordPress主题目录，找到并编辑 <code>content-single.php</code> 文件。你可以在文章内容的末尾添加打赏按钮和模态框的HTML代码。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-添加html和css代码">2. 添加HTML和CSS代码<a class="hash-link" aria-label="2. 添加HTML和CSS代码的直接链接" title="2. 添加HTML和CSS代码的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#2-%E6%B7%BB%E5%8A%A0html%E5%92%8Ccss%E4%BB%A3%E7%A0%81">​</a></h3>
<p>在 <code>content-single.php</code> 文件中，找到适合的位置（通常是在显示内容的 <code>the_content()</code> 函数之后），添加以下HTML和CSS代码：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-添加javascript代码">3. 添加JavaScript代码<a class="hash-link" aria-label="3. 添加JavaScript代码的直接链接" title="3. 添加JavaScript代码的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#3-%E6%B7%BB%E5%8A%A0javascript%E4%BB%A3%E7%A0%81">​</a></h3>
<p>在 <code>single.php</code> 文件的底部（在 <code>&lt;/body&gt;</code> 标签之前），添加以下JavaScript代码，以实现模态框的显示和隐藏功能：</p>
<p>完整代码如下：</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Template part for displaying single posts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @link https://codex.wordpress.org/Template_Hierarchy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @package Astra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @since 1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php astra_entry_before(); ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;article</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		echo astra_attr(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			'article-single',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			array(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				'id'    =&gt; 'post-' . get_the_id(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				'class' =&gt; join( ' ', get_post_class() ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&lt;?php astra_entry_top(); ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&lt;?php astra_entry_content_single(); ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	 &lt;!-- 打赏按钮 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;div id="reward-button" style="text-align: center; margin-top: 20px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;button id="rewardBtn" style="background-color: #ff5e5e; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;i class="fa fa-dollar-sign"&gt;&lt;/i&gt; 打赏</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;!-- 模态框 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;div id="rewardModal" style="display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 600px; text-align: center; border-radius: 10px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;span id="closeModal" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;"&gt;&amp;times;&lt;/span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;h2&gt;打赏&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;div style="display: flex; justify-content: center; margin-top: 20px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;div style="margin-right: 20px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;img src="https://shelleydigital.com/wp-content/uploads/2023/08/wechat-pay.jpg" alt="微信打赏" style="width: 150px; height: 150px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;p&gt;微信&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;img src="https://shelleydigital.com/wp-content/uploads/2023/08/alipay.jpg" alt="支付宝打赏" style="width: 150px; height: 150px;"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &lt;p&gt;支付宝&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&lt;?php astra_entry_bottom(); ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/article&gt;&lt;!-- #post-## --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php astra_entry_after(); ?&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 打开模态框</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document.getElementById('rewardBtn').onclick = function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.getElementById('rewardModal').style.display = 'block';</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 关闭模态框</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document.getElementById('closeModal').onclick = function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.getElementById('rewardModal').style.display = 'none';</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 点击模态框外部关闭模态框</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">window.onclick = function(event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (event.target == document.getElementById('rewardModal')) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.getElementById('rewardModal').style.display = 'none';</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-添加font-awesome图标可选">4. 添加Font Awesome图标（可选）<a class="hash-link" aria-label="4. 添加Font Awesome图标（可选）的直接链接" title="4. 添加Font Awesome图标（可选）的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#4-%E6%B7%BB%E5%8A%A0font-awesome%E5%9B%BE%E6%A0%87%E5%8F%AF%E9%80%89">​</a></h3>
<p>如果你希望在按钮上添加一个图标，可以使用Font Awesome。在你的WordPress主题的 <code>header.php</code> 文件中，添加以下代码以引入Font Awesome：</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-替换二维码图片">5. 替换二维码图片<a class="hash-link" aria-label="5. 替换二维码图片的直接链接" title="5. 替换二维码图片的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#5-%E6%9B%BF%E6%8D%A2%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%9B%BE%E7%89%87">​</a></h3>
<p>将 <code>path/to/wechat-qrcode.png</code> 和 <code>path/to/alipay-qrcode.png</code> 替换为你实际的微信和支付宝二维码图片路径。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-完成">6. 完成<a class="hash-link" aria-label="6. 完成的直接链接" title="6. 完成的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#6-%E5%AE%8C%E6%88%90">​</a></h3>
<p>保存 <code>single.php</code> 文件并刷新你的网站。在每篇文章的底部应该都会显示一个“打赏”按钮，点击按钮后会弹出包含微信和支付宝二维码的模态框。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="注意事项">注意事项<a class="hash-link" aria-label="注意事项的直接链接" title="注意事项的直接链接" href="https://frankelinli.github.io/blog/wordpress%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E5%A2%9E%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">​</a></h3>
<ol>
<li><strong>备份：</strong> 在修改 <code>single.php</code> 文件之前，确保你已经备份了文件，以防出现问题。</li>
<li><strong>图片路径：</strong> 确保你的二维码图片路径正确并且图片已经上传到你的服务器。</li>
<li><strong>主题更新：</strong> 如果你的主题更新，可能会覆盖 `single.php</li>
</ol>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[csdn是个抄袭大本营]]></title>
            <link>https://frankelinli.github.io/blog/csdn是个抄袭大本营</link>
            <guid>https://frankelinli.github.io/blog/csdn是个抄袭大本营</guid>
            <pubDate>Sun, 09 Jun 2024 22:57:00 GMT</pubDate>
            <description><![CDATA[我的原创文章被CSDN作者全文抄袭，]]></description>
            <content:encoded><![CDATA[<p>我的原创文章被CSDN作者全文抄袭，</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[命令行代码推送网址到百度搜索引擎]]></title>
            <link>https://frankelinli.github.io/blog/命令行代码推送网址到百度搜索引擎</link>
            <guid>https://frankelinli.github.io/blog/命令行代码推送网址到百度搜索引擎</guid>
            <pubDate>Mon, 20 May 2024 10:08:00 GMT</pubDate>
            <description><![CDATA[一键推送网址到百度搜索引擎]]></description>
            <content:encoded><![CDATA[<p>一键推送网址到百度搜索引擎</p>
<div class="language-bat codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bat codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@echo off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -H "Content-Type:text/plain" --data-binary @urls.txt "http://data.zz.baidu.com/urls?site=https://dfadwiki.com&amp;token=VOIWWefdedMTPIXSnZDh"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pause</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这是我自己写的命令行代码，把URL连接放到urls.txt文档里，然后命令行里运行上面代码，就可以推送URL到百度搜索引擎。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[高中怼女生的一个回忆]]></title>
            <link>https://frankelinli.github.io/blog/高中怼女生的一个回忆</link>
            <guid>https://frankelinli.github.io/blog/高中怼女生的一个回忆</guid>
            <pubDate>Wed, 15 May 2024 21:05:00 GMT</pubDate>
            <description><![CDATA[高一还是高二时，一个女生在黑板上写下“名著“，famous novle, 不知为何，我去演讲时开怼，批判她写的不对。当着全班的面。]]></description>
            <content:encoded><![CDATA[<p>高一还是高二时，一个女生在黑板上写下“名著“，famous novle, 不知为何，我去演讲时开怼，批判她写的不对。当着全班的面。</p>
<p>现在想起来，真的太傻比了。为何要当面批判一个女生呢？死直男。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[深圳大梅沙发生撞车事故]]></title>
            <link>https://frankelinli.github.io/blog/我在深圳大梅沙发生撞车事故</link>
            <guid>https://frankelinli.github.io/blog/我在深圳大梅沙发生撞车事故</guid>
            <pubDate>Mon, 13 May 2024 18:59:00 GMT</pubDate>
            <description><![CDATA[2023年8月底，在深圳大梅沙带孩子玩水一天 后，驾车到酒店，在一个红绿灯路口等车的时候，闭上眼睛迷糊了一两秒，竟然睡着了，等过了几秒忽然醒来后，汽车已经横冲直闯冲向了前方，擦碰到左侧2辆车，撞到前方车尾。]]></description>
            <content:encoded><![CDATA[<p>2023年8月底，在深圳大梅沙带孩子玩水一天 后，驾车到酒店，在一个红绿灯路口等车的时候，闭上眼睛迷糊了一两秒，竟然睡着了，等过了几秒忽然醒来后，汽车已经横冲直闯冲向了前方，擦碰到左侧2辆车，撞到前方车尾。</p>
<p>车上只有我和小孩2个人，小孩在后面。追尾碰撞瞬间，2个安全气囊弹出，一股火药味。车辆停止。小孩吓得哇哇哭。小孩没有伤到。只是惊吓。我的左手臂有血迹，经人提醒，是安全气囊破壳而出时，弹出的塑料碎片切割到我的左手臂。好在是皮外伤，没割到动脉。</p>
<p>我赶快抱着小孩下车到路边等待。</p>
<p>幸亏前方有个车挡住。因为前车的前面就是红绿灯路口，一条斑马线，行人正在过马路。如果没有前车被我追尾而挡住我的车，那就直接撞上过马路的行人了！那就是死亡和伤亡了!</p>
<p>那我估计要赔偿的倾家荡产，甚至要坐牢了。</p>
<p>万幸！小孩毫发无损，我手臂割伤流血，还算轻微。被我撞到的车里也有小孩，万幸人员都是安全的！！</p>
<p>万幸！整个2023年，其他什么成功和失败都不重要。这个车祸最严重.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[使用python来调用tinyPNG API压缩图片]]></title>
            <link>https://frankelinli.github.io/blog/使用python来调用tinyPNG API压缩图片</link>
            <guid>https://frankelinli.github.io/blog/使用python来调用tinyPNG API压缩图片</guid>
            <pubDate>Wed, 08 May 2024 22:59:00 GMT</pubDate>
            <description><![CDATA[用python来调用tinyPNG的API来压缩图片、转换图片格式。以下代码是把jpg图片转换为webp格式。转换格式时，会自动压缩图片。]]></description>
            <content:encoded><![CDATA[<p>用python来调用tinyPNG的API来压缩图片、转换图片格式。以下代码是把jpg图片转换为webp格式。转换格式时，会自动压缩图片。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="最简洁代码">最简洁代码<a class="hash-link" aria-label="最简洁代码的直接链接" title="最简洁代码的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E6%9C%80%E7%AE%80%E6%B4%81%E4%BB%A3%E7%A0%81">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tinify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"JRk8s8gxWYpsd6PY925SSN175Hffrkhg"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"jingdezhen.JPG"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"image/png"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extension </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"jingdezhen."</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> extension</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">	</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="带有屏幕提示和任意键关闭代码">带有屏幕提示和任意键关闭代码<a class="hash-link" aria-label="带有屏幕提示和任意键关闭代码的直接链接" title="带有屏幕提示和任意键关闭代码的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E5%B8%A6%E6%9C%89%E5%B1%8F%E5%B9%95%E6%8F%90%E7%A4%BA%E5%92%8C%E4%BB%BB%E6%84%8F%E9%94%AE%E5%85%B3%E9%97%AD%E4%BB%A3%E7%A0%81">​</a></h3>
<p>优化版代码，提供了屏幕提示，和任意键关闭屏幕：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tinify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> msvcrt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getsize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"文件大小: %d kb"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"开始读取图像到tinyPNG服务器..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像加载成功，正在进行转换..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 转换为webp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        extension </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dirname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test."</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> extension</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像转换成功，已保存为%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"按下任意键关闭..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msvcrt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 等待用户按下任意键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AccountError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"账户错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ClientError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"客户端错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ServerError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"服务器错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ConnectionError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"连接错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"发生异常：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置API密钥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"JRk8s8gxWYpsd6PYd925SSN172Hffrkhg"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置源图像路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test.JPEG"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 优化图像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="为何type要使用数组">为何type要使用数组？<a class="hash-link" aria-label="为何type要使用数组？的直接链接" title="为何type要使用数组？的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E4%B8%BA%E4%BD%95type%E8%A6%81%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84">​</a></h3>
<p>在使用 Tinify 转换图像格式时，<code>type</code> 参数接受一个数组。这是因为 Tinify 提供了一种方便的方式，允许你指定多个目标格式进行转换。通过将多个格式包含在数组中，你可以一次性将源图像转换为多个目标格式。</p>
<p>在你的代码示例中，使用 <code>type=["image/webp"]</code> 将源图像转换为 WebP 格式。如果你想同时将图像转换为多个格式，只需在 <code>type</code> 数组中添加更多元素即可，例如：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"image/jpeg"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"image/png"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这样，源图像将转换为 WebP、JPEG 和 PNG 格式的三个副本。</p>
<p>通过使用数组，Tinify 提供了一种简洁而灵活的方式，方便地指定多个目标格式。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="如果我只想要webp格式不使用数组可以吗">如果我只想要webp格式，不使用数组可以吗<a class="hash-link" aria-label="如果我只想要webp格式，不使用数组可以吗的直接链接" title="如果我只想要webp格式，不使用数组可以吗的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E5%A6%82%E6%9E%9C%E6%88%91%E5%8F%AA%E6%83%B3%E8%A6%81webp%E6%A0%BC%E5%BC%8F%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E5%8F%AF%E4%BB%A5%E5%90%97">​</a></h3>
<p>是的，如果你只想将图像转换为 WebP 格式，你可以直接将 <code>"image/webp"</code> 作为字符串传递给 <code>type</code> 参数，而无需使用数组。以下是示例代码：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这样，源图像将仅转换为 WebP 格式，而不会生成其他格式的副本。</p>
<p>使用数组的主要优势是在单个转换操作中指定多个目标格式。如果只需要一个格式，直接传递字符串即可。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="再次完善代码打开文件框选择原图">再次完善代码：打开文件框，选择原图<a class="hash-link" aria-label="再次完善代码：打开文件框，选择原图的直接链接" title="再次完善代码：打开文件框，选择原图的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E5%86%8D%E6%AC%A1%E5%AE%8C%E5%96%84%E4%BB%A3%E7%A0%81%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%A1%86%E9%80%89%E6%8B%A9%E5%8E%9F%E5%9B%BE">​</a></h3>
<p>补充了代码，实现在窗口里选择原图，然后执行代码，输出为转换后的图片。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tinify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tkinter </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tkinter </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> filedialog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> msvcrt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getsize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"文件大小: %d kb"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"开始读取图像到tinyPNG服务器..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像加载成功，正在进行转换..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 转换为webp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        extension </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dirname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test."</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> extension</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像转换成功，已保存为%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"按下任意键关闭..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msvcrt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 等待用户按下任意键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AccountError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"账户错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ClientError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"客户端错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ServerError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"服务器错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ConnectionError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"连接错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"发生异常：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open_file_dialog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Tk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">withdraw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> filedialog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">askopenfilename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> file_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置API密钥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"JRk8s8gxWYpsd6PY925SSN172Hffrkhg"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 打开文件对话框选择图像文件并优化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open_file_dialog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="代码优化-文件框过滤文件只显示图片文件">代码优化: 文件框过滤文件，只显示图片文件<a class="hash-link" aria-label="代码优化: 文件框过滤文件，只显示图片文件的直接链接" title="代码优化: 文件框过滤文件，只显示图片文件的直接链接" href="https://frankelinli.github.io/blog/%E4%BD%BF%E7%94%A8python%E6%9D%A5%E8%B0%83%E7%94%A8tinyPNG%20API%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87#%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96-%E6%96%87%E4%BB%B6%E6%A1%86%E8%BF%87%E6%BB%A4%E6%96%87%E4%BB%B6%E5%8F%AA%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tinify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tkinter </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tkinter </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> filedialog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> msvcrt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getsize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"文件大小: %d kb"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"开始读取图像到tinyPNG服务器..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像加载成功，正在进行转换..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"image/webp"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 转换为webp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        extension </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dirname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test."</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> extension</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        converted</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"图像转换成功，已保存为%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print_file_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"按下任意键关闭..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        msvcrt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 等待用户按下任意键</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AccountError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"账户错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ClientError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"客户端错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ServerError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"服务器错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ConnectionError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"连接错误：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"发生异常：%s"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">is_image_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image_extensions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'.png'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.jpg'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.jpeg'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.gif'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.bmp'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'.jfif'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> file_extension </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">splitext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> file_extension</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> image_extensions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">open_file_dialog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Tk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">withdraw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> filedialog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">askopenfilename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filetypes</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Image Files"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*.png;*.jpg;*.jpeg;*.gif;*.bmp;*.jfif"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> file_path </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> is_image_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        optimize_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置API密钥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tinify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"JRk8s8gxWYpsd6PY925SSN172Hffrkhg"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 打开文件对话框选择图像文件并优化</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open_file_dialog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>python的tkinter库，虽然过滤了只显示图片文件，但是仍然会显示文件夹。这是tikinter局限</p></div></div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[xyz育儿费用]]></title>
            <link>https://frankelinli.github.io/blog/育儿费用</link>
            <guid>https://frankelinli.github.io/blog/育儿费用</guid>
            <pubDate>Thu, 02 May 2024 12:55:00 GMT</pubDate>
            <description><![CDATA[厂方租金每月 3000]]></description>
            <content:encoded><![CDATA[<p>厂方租金每月 3000
托管班每月1300
托管班吃饭每月450
学校早餐每月 450
每月我固定出 5200 元。</p>
<p>校服1500，班服200，春游
还他妈的喂狗喂了五千</p>
<p>电话手表600
电话手表每月 30 会员
客厅电视一年 300 会员
ipad 2700
两个书包1000
补牙500</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[第一次做头等舱]]></title>
            <link>https://frankelinli.github.io/blog/第一次做头等舱</link>
            <guid>https://frankelinli.github.io/blog/第一次做头等舱</guid>
            <pubDate>Sun, 21 Apr 2024 23:00:00 GMT</pubDate>
            <description><![CDATA[因为买不到票，第一次做头等舱，8000多的价格。有种VIP的感觉！]]></description>
            <content:encoded><![CDATA[<p>因为买不到票，第一次做头等舱，8000多的价格。有种VIP的感觉！</p>
<p>有菜单，可以点菜。有小蛋糕，茶点、酒水。</p>
<p>缅甸落地签过程还算顺利。出了机场用Grab打滴滴，丝滑体验。</p>
<p>入住温德姆酒店。门童提行李，我拒绝了。不想给小费。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[禁止折腾！]]></title>
            <link>https://frankelinli.github.io/blog/禁止折腾！</link>
            <guid>https://frankelinli.github.io/blog/禁止折腾！</guid>
            <pubDate>Fri, 12 Apr 2024 22:19:00 GMT</pubDate>
            <description><![CDATA[不要再折腾插件、主题了！！费力不讨好！投入时间和金钱，没产出！]]></description>
            <content:encoded><![CDATA[<p>不要再折腾插件、主题了！！费力不讨好！投入时间和金钱，没产出！</p>
<p>化繁为简！大道至简。</p>
<p>去掉spetra插件。用尽量少的插件来运营，以便提高网速。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[python猜数字游戏源码]]></title>
            <link>https://frankelinli.github.io/blog/python猜数字游戏源码</link>
            <guid>https://frankelinli.github.io/blog/python猜数字游戏源码</guid>
            <pubDate>Wed, 10 Apr 2024 01:33:00 GMT</pubDate>
            <description><![CDATA[这是python猜数字游戏的源代码，非常加单。可以学习。]]></description>
            <content:encoded><![CDATA[<p>这是python猜数字游戏的源代码，非常加单。可以学习。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> random</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Welcome to the guessing game!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Generate a random number between 1 and 100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">secret_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">randint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get a guess from the player</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    guess </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Enter a number between 1 and 100: "</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Check if the guess is correct</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> guess </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> secret_number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"You guessed it! The secret number was {}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">secret_number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> guess </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> secret_number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Your guess is too low"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Your guess is too high"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[人情世故]]></title>
            <link>https://frankelinli.github.io/blog/人情世故</link>
            <guid>https://frankelinli.github.io/blog/人情世故</guid>
            <pubDate>Tue, 09 Apr 2024 18:22:00 GMT</pubDate>
            <description><![CDATA[不要主动跟别人说自己的“短处”，包括：]]></description>
            <content:encoded><![CDATA[<p>不要主动跟别人说自己的“短处”，包括：</p>
<ul>
<li>不要说自己正在工作的上的“短处”</li>
<li>不要说自己公司的短处</li>
<li>不要说自己正在做的事的“短处</li>
</ul>
<p>会被坏人利用！</p>
<hr>
<p>跟主管领导要直接打电话！不要总是发微信。电话交谈的信息，2分钟的交谈，会有很多内容、感情。</p>
<p>发微信做不到这个地步。</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="今天犯的错误">今天犯的错误：<a class="hash-link" aria-label="今天犯的错误：的直接链接" title="今天犯的错误：的直接链接" href="https://frankelinli.github.io/blog/%E4%BA%BA%E6%83%85%E4%B8%96%E6%95%85#%E4%BB%8A%E5%A4%A9%E7%8A%AF%E7%9A%84%E9%94%99%E8%AF%AF">​</a></h3>
<p>跟同事谈论代码，说自己写的代码有点乱凿凿，？！不要自曝其短好不好？这样会被小人利用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="今天的小成就">今天的小成就：<a class="hash-link" aria-label="今天的小成就：的直接链接" title="今天的小成就：的直接链接" href="https://frankelinli.github.io/blog/%E4%BA%BA%E6%83%85%E4%B8%96%E6%95%85#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%B0%8F%E6%88%90%E5%B0%B1">​</a></h3>
<p>组织小组团建，邀请小组同事团建也有点小小的技巧。如何巧妙的说话，如何巧妙的借势，如何巧妙的邀请到小组同事。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反着说话">反着说话<a class="hash-link" aria-label="反着说话的直接链接" title="反着说话的直接链接" href="https://frankelinli.github.io/blog/%E4%BA%BA%E6%83%85%E4%B8%96%E6%95%85#%E5%8F%8D%E7%9D%80%E8%AF%B4%E8%AF%9D">​</a></h3>
<p>不要说你自己的意见是如何如何，而是要说情势所迫，不得不如此。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瘦田无人耕耕了有人争">瘦田无人耕，耕了有人争<a class="hash-link" aria-label="瘦田无人耕，耕了有人争的直接链接" title="瘦田无人耕，耕了有人争的直接链接" href="https://frankelinli.github.io/blog/%E4%BA%BA%E6%83%85%E4%B8%96%E6%95%85#%E7%98%A6%E7%94%B0%E6%97%A0%E4%BA%BA%E8%80%95%E8%80%95%E4%BA%86%E6%9C%89%E4%BA%BA%E4%BA%89">​</a></h3>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[WordPress笔记]]></title>
            <link>https://frankelinli.github.io/blog/WordPress笔记</link>
            <guid>https://frankelinli.github.io/blog/WordPress笔记</guid>
            <pubDate>Thu, 04 Apr 2024 20:54:00 GMT</pubDate>
            <description><![CDATA[require DIR . '/wp-blog-header.php';这个什么意思]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="require-dir--wp-blog-headerphp这个什么意思">require <strong>DIR</strong> . '/wp-blog-header.php';这个什么意思<a class="hash-link" aria-label="require-dir--wp-blog-headerphp这个什么意思的直接链接" title="require-dir--wp-blog-headerphp这个什么意思的直接链接" href="https://frankelinli.github.io/blog/WordPress%E7%AC%94%E8%AE%B0#require-dir--wp-blog-headerphp%E8%BF%99%E4%B8%AA%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D">​</a></h3>
<p>这行代码的意思是：<strong>使用 <code>require</code> 函数载入 <code>wp-blog-header.php</code> 文件</strong>。</p>
<p><strong>具体解释如下：</strong></p>
<ul>
<li><code>require</code> 函数：这是一个 PHP 函数，用于载入另一个 PHP 文件。</li>
<li><code>__DIR__</code>：这是一个 PHP 魔术常量，代表当前文件的目录。</li>
<li><code>/wp-blog-header.php</code>：这是一个 WordPress 核心文件，负责加载 WordPress 环境和模板。</li>
</ul>
<p><strong>因此，这行代码的作用是：</strong></p>
<ul>
<li>将 <code>wp-blog-header.php</code> 文件载入到当前脚本中。</li>
<li>初始化 WordPress 环境，包括加载数据库配置、主题、插件等。</li>
<li>告诉 WordPress 程序要输出主题内容到访客浏览器。</li>
</ul>
<p><strong>总结：</strong></p>
<p>这行代码是 WordPress 程序启动过程中的一部分，它负责载入核心文件并启动 WordPress 程序。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="要使博客头部不显示特色图像feature-image你需要删除以下代码">要使博客头部不显示特色图像（feature image），你需要删除以下代码：<a class="hash-link" aria-label="要使博客头部不显示特色图像（feature image），你需要删除以下代码：的直接链接" title="要使博客头部不显示特色图像（feature image），你需要删除以下代码：的直接链接" href="https://frankelinli.github.io/blog/WordPress%E7%AC%94%E8%AE%B0#%E8%A6%81%E4%BD%BF%E5%8D%9A%E5%AE%A2%E5%A4%B4%E9%83%A8%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%89%B9%E8%89%B2%E5%9B%BE%E5%83%8Ffeature-image%E4%BD%A0%E9%9C%80%E8%A6%81%E5%88%A0%E9%99%A4%E4%BB%A5%E4%B8%8B%E4%BB%A3%E7%A0%81">​</a></h3>
<p>docy/single.php</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">the_post_thumbnail('full', array( 'class' =&gt; 'mb-4 featured-image' ) );</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[2024年4月1日]]></title>
            <link>https://frankelinli.github.io/blog/2024年4月1日</link>
            <guid>https://frankelinli.github.io/blog/2024年4月1日</guid>
            <pubDate>Mon, 01 Apr 2024 18:54:00 GMT</pubDate>
            <description><![CDATA[1. 利用这个项目，跟经理搭上线。电话联系。]]></description>
            <content:encoded><![CDATA[<ol>
<li>利用这个项目，跟经理搭上线。电话联系。</li>
</ol>
<ol start="2">
<li>
<p>好用的扫描王，因为政策原因，不能上传到google drive, onedrive了。阉割的够厉害。</p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=LB8KwiiUGy0" target="_blank" rel="noopener noreferrer">Node.js: The Documentary | An origin story (youtube.com)</a>
Nodejs的发展史，包括创始人访谈。创始人出走，公司分家，又合并。终于到了Node.js的今天。这个网站也是依赖于Node.js来创建的。</p>
</li>
<li>
<p>轻易升级了docusaurus 3.2，然后报错，找不到解决方案。尝试退回，一顿胡乱操作。</p>
<p>终于成功能使用了。
以后轻易不要升级了。毕竟这个改变很小很小。</p>
</li>
<li>
<p>最好用还是WordPress，只是搭建WordPress每年要500多块的成本。不划算。所以使用github Page的免费空间，使用静态网站生成。</p>
</li>
</ol>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[3月29号]]></title>
            <link>https://frankelinli.github.io/blog/2024/03/29/3月29号</link>
            <guid>https://frankelinli.github.io/blog/2024/03/29/3月29号</guid>
            <pubDate>Fri, 29 Mar 2024 16:40:00 GMT</pubDate>
            <description><![CDATA[小学【成绩等级的最新登记要求】]]></description>
            <content:encoded><![CDATA[<p>小学【成绩等级的最新登记要求】
A+（95-100） A（90-94） A-（85-89）
B+（80-84）  B（75-79）
C+（70-74）</p>
<p>网站MySQL服务总是自动停止。不省心。不过别放弃。没有简单的事情。</p>
<p>刷抖音、看电视，简单，但是那不叫“事情”。 如果你发抖音，制作电视，那才叫“事情”。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[20240328]]></title>
            <link>https://frankelinli.github.io/blog/2024/03/28/20240328</link>
            <guid>https://frankelinli.github.io/blog/2024/03/28/20240328</guid>
            <pubDate>Thu, 28 Mar 2024 21:37:00 GMT</pubDate>
            <description><![CDATA[我记得每天睡觉前最后一个关注的粉丝。]]></description>
            <content:encoded><![CDATA[<p>我记得每天睡觉前最后一个关注的粉丝。</p>
<p>目前的总的总结是:</p>
<p>是我觉得有价值的，没人看，</p>
<p>我觉得是没意思的，是大批量转发</p>
<p>领导在“可与不可”之间认可了我，给了我机会。想要送点礼。却不知如何去做。<!-- -->😢</p>
<hr>
<p>决定不要陷入粉丝增长的焦虑当中了。增长，减少，不要太关注！不然会走火入魔。</p>
<p>主要还是要创作内容。</p>
<p>12:30凌晨半夜还增加了一个粉丝。谢谢您！</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[用python给Markdown文件批量添加头部yaml信息]]></title>
            <link>https://frankelinli.github.io/blog/用python给Markdown文件批量添加头部yaml信息</link>
            <guid>https://frankelinli.github.io/blog/用python给Markdown文件批量添加头部yaml信息</guid>
            <pubDate>Wed, 27 Mar 2024 16:03:00 GMT</pubDate>
            <description><![CDATA[docusaurus下某个文库写了几十篇doc了，但是当时没有添加头部date信息，导致docusaurus每次更新时，页面底部显示的最近更新时间都是npm build的时间，而不是文件创建时的时间。]]></description>
            <content:encoded><![CDATA[<p>docusaurus下某个文库写了几十篇doc了，但是当时没有添加头部date信息，导致docusaurus每次更新时，页面底部显示的最近更新时间都是npm build的时间，而不是文件创建时的时间。</p>
<p>给头部添加date信息，可以避免这个问题。</p>
<p>但是已经有几十个doc，我不想一个一个打开来添加。</p>
<p>大神python出场。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> glob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fileinput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 获取当前日期和时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">current_datetime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 定义 YAML 内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yaml_content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">"""---</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">date: {date}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">---"""</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">date</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">current_datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%Y-%m-%d %H:%M"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 获取当前目录路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">directory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getcwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 遍历当前目录下的所有 .md 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> file_path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> glob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">glob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">directory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'*.md'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 读取文件内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'r'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readlines</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 在文件头部插入 YAML 内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> yaml_content </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'\n'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 将修改后的内容写回文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'w'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writelines</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lines</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<p>如果要遍历目录下的子文件夹里的Markdown文件，</p>
<p>要遍历目录下的所有子目录中的 Markdown 文件，可以使用递归方法。以下是修改后的示例代码：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> glob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fileinput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 获取当前日期和时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">current_datetime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 定义 YAML 内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yaml_content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">"""---</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">date: {date}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">---"""</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">date</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">current_datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%Y-%m-%d %H:%M"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 定义递归函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">process_directory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">directory</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 遍历目录下的所有文件和子目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> entry </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scandir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">directory</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">endswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'.md'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 处理 Markdown 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'r'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lines </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readlines</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 在文件头部插入 YAML 内容</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">insert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> yaml_content </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'\n'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 将修改后的内容写回文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'w'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writelines</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lines</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 递归处理子目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            process_directory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 获取当前目录路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">directory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getcwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 调用递归函数处理目录及其子目录中的 Markdown 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">process_directory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">directory</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[建设网站的成本流水账]]></title>
            <link>https://frankelinli.github.io/blog/网站建设成本</link>
            <guid>https://frankelinli.github.io/blog/网站建设成本</guid>
            <pubDate>Tue, 26 Mar 2024 22:53:00 GMT</pubDate>
            <description><![CDATA[1. 购买docy主题50￥;白白浪费，已经不再使用。]]></description>
            <content:encoded><![CDATA[<ol>
<li>购买docy主题50￥;白白浪费，已经不再使用。</li>
<li>购买eazydoc插件60￥</li>
<li>购买elementor pro分销 100￥</li>
<li>腾讯云轻量服务器；</li>
</ol>]]></content:encoded>
        </item>
    </channel>
</rss>